@model IEnumerable<ApiStudyBuddy.Models.Deck>
@{
    ViewData["Title"] = "Decks";
    Layout = "~/Views/MyStudies/_myStudiesLayout.cshtml";
}

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

@{
    await Html.RenderPartialAsync("_CreateDeck", new DeckViewModel());
}

<h1>Decks</h1>
<table class="table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.DeckId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.DeckName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.DeckDescription)
            </th>
            <th style="font-weight:bold">
                <button id="create-deck-btn" type="button" class="btn btn-primary" data-toggle="modal">
                    Create a Deck
                </button>
            </th>
        </tr>
        @foreach (var item in Model)
        {
             <tr>
                  <td>
                    @Html.DisplayFor(modelItem => item.DeckId)
                  </td>
                  <td>
                    @Html.DisplayFor(modelItem => item.DeckName)
                  </td>
                  <td>
                    @Html.DisplayFor(modelItem => item.DeckDescription)
                  </td>
                  <td>
                    @Html.ActionLink("Edit", "Edit", new {id=item.DeckId}) |
                    @Html.ActionLink("Details", "Details", new {id=item.DeckId} ) |
                    @Html.ActionLink("Delete", "Delete", new {id=item.DeckId})
                  </td>
            </tr>
        }
    </thead>
</table>

@section scripts {
    <script>
        $("#create-deck-btn").click(function () {
            $("#createDeck-modal").modal('show');
        });
    </script>
}
